.version sol 0.62.0

.macro constructor
DROP
GETGLOB 2
ISNULL
IFREF {
	CALL $c4_to_c7_with_init_storage$
}
GETGLOB 6
THROWIF 51
OVER
PUSHCONT {
	LDREF
	ENDS
	CTOS
}
IF
LDU 128
LDREF
ENDS
.loc ../contracts/CarFactoryAndWorker/Workers.tsol, 23
ACCEPT
.loc ../contracts/CarFactoryAndWorker/Workers.tsol, 24
SWAP
SETGLOB 14
.loc ../contracts/CarFactoryAndWorker/Workers.tsol, 25
SETGLOB 13
.loc ../contracts/CarFactoryAndWorker/Workers.tsol, 0
CALLREF {
	CALL $c7_to_c4$
}
THROW 0

.macro receiveOffer
DROP
GETGLOB 6
THROWIFNOT 76
GETGLOB 2
ISNULL
IFREF {
	CALL $c4_to_c7$
}
.loc ../contracts/CarFactoryAndWorker/Workers.tsol, 28
OVER
PUSHCONT {
	LDREF
	LDREF
	ENDS
	CTOS
}
PUSHCONT {
	LDREF
}
IFELSE
LDMSGADDR
LDREF
ENDS
CTOS
LDMSGADDR
ENDS
.loc ../contracts/CarFactoryAndWorker/Workers.tsol, 0
CALLREF {
	CALL $receiveOffer_0c56c07f_internal_macro$
}
DROP
CALLREF {
	CALL $c7_to_c4$
}
THROW 0

.macro receiveOffer_0c56c07f_internal_macro
.loc ../contracts/CarFactoryAndWorker/Workers.tsol, 29
DROP
GETGLOB 10
GETGLOB 9
SDEQ
THROWIFNOT 201
.loc ../contracts/CarFactoryAndWorker/Workers.tsol, 30
SWAP
SETGLOB 15
.loc ../contracts/CarFactoryAndWorker/Workers.tsol, 31
GETGLOB 9
GETGLOB 15
PUSHSLICE xc000000000000000000000000053208981
NEWC
STSLICE
STREF
STSLICE
ENDC
PUSHINT 0
SENDRAWMSG
.loc ../contracts/CarFactoryAndWorker/Workers.tsol, 32
NEWC
STSLICECONST x62_
STSLICE
PUSHINT 111
STZEROES
ENDC
PUSHPOW2 7
SENDRAWMSG
.loc ../contracts/CarFactoryAndWorker/Workers.tsol, 0

.macro sendOfferAnswer
DROP
GETGLOB 6
THROWIFNOT 76
GETGLOB 2
ISNULL
IFREF {
	CALL $c4_to_c7$
}
.loc ../contracts/CarFactoryAndWorker/Workers.tsol, 36
LDREF
ENDS
.loc ../contracts/CarFactoryAndWorker/Workers.tsol, 0
CALLREF {
	CALL $sendOfferAnswer_a0edab27_internal_macro$
}
DROP
CALLREF {
	CALL $c7_to_c4$
}
THROW 0

.macro sendOfferAnswer_a0edab27_internal_macro
.loc ../contracts/CarFactoryAndWorker/Workers.tsol, 37
DUP
SETGLOB 16
.loc ../contracts/CarFactoryAndWorker/Workers.tsol, 38
GETGLOB 10
NEWC
STSLICECONST x62_
STSLICE
PUSHINT 42045022170482489768618347945393405442361941004297
STUR 167
STREF
ENDC
PUSHINT 0
SENDRAWMSG
.loc ../contracts/CarFactoryAndWorker/Workers.tsol, 0

.macro receivedSalary
DROP
GETGLOB 6
THROWIFNOT 76
GETGLOB 2
ISNULL
IFREF {
	CALL $c4_to_c7$
}
.loc ../contracts/CarFactoryAndWorker/Workers.tsol, 41
ENDS
.loc ../contracts/CarFactoryAndWorker/Workers.tsol, 0
CALLREF {
	CALL $receivedSalary_04034ac2_internal_macro$
}
DROP
CALLREF {
	CALL $c7_to_c4$
}
THROW 0

.macro receivedSalary_04034ac2_internal_macro
.loc ../contracts/CarFactoryAndWorker/Workers.tsol, 44
PUSHINT 5000
UFITS 32
SETGLOB 14
.loc ../contracts/CarFactoryAndWorker/Workers.tsol, 0

.macro c4_to_c7
PUSHROOT
CTOS
LDU 256 ; pubkey c4
LDU 64 ; pubkey timestamp c4
LDU 1 ; ctor flag
NIP
LDMSGADDR
LDREF
ENDS
CTOS
LDMSGADDR
LDREF
ENDS
CTOS
LDMSGADDR
LDREF
LDU 128
LDREF
LDREF
ENDS
SETGLOB 16
SETGLOB 15
SETGLOB 14
SETGLOB 13
SETGLOB 12
SETGLOB 11
SETGLOB 10
SETGLOB 3
SETGLOB 2

.macro c4_to_c7_with_init_storage
PUSHROOT
CTOS
SBITS
GTINT 1
PUSHCONT {
	PUSHINT 0
	PUSHROOT
	CTOS
	PLDDICT ; D
	PUSHINT 1
	OVER
	PUSHINT 64
	DICTUGET
	PUSHCONT {
		PUSHREFSLICE {
			.blob x8000000000000000000000000000000000000000000000000000000000000000001_
		}
	}
	IFNOT
	PUSHINT 2
	PUSH S2
	PUSHINT 64
	DICTUGET
	PUSHCONT {
		PUSHREFSLICE {
			.blob x8000000000000000000000000000000000000000000000000000000000000000001_
		}
	}
	IFNOT
	PUSHINT 3
	PUSH S3
	PUSHINT 64
	DICTUGET
	PUSHCONT {
		PUSHREFSLICE {
			.blob x8000000000000000000000000000000000000000000000000000000000000000001_
		}
	}
	IFNOT
	PUSHREF {
	}
	PUSHINT 0
	PUSHREF {
	}
	DUP
	SETGLOB 16
	SETGLOB 15
	SETGLOB 14
	SETGLOB 13
	SETGLOB 12
	SETGLOB 11
	SETGLOB 10
	PUSHINT 64
	DICTUGET
	THROWIFNOT 61
	PLDU 256
	SETGLOB 2
	PUSHINT 0 ; timestamp
	SETGLOB 3
}
IFREFELSE {
	CALL $c4_to_c7$
}

.macro c7_to_c4
GETGLOB 16
GETGLOB 15
GETGLOB 14
GETGLOB 13
GETGLOB 12
GETGLOB 11
GETGLOB 10
GETGLOB 3
GETGLOB 2
NEWC
STU 256
STU 64
STONE
STSLICE
ROLLREV 6
NEWC
STSLICE
ROLLREV 5
NEWC
STSLICE
STREF
STU 128
STREF
STREF
STBREFR
STBREFR
ENDC
POPROOT

.macro upd_only_time_in_c4
PUSHROOT
CTOS
LDU 256
LDU 64
NIP
GETGLOB 3
ROT
NEWC
STU 256
STU 64
STSLICE
ENDC
POPROOT

.internal-alias :main_internal, 0
.internal :main_internal
PUSHROOT
CTOS
SBITS
NEQINT 1
SETGLOB 6
PUSH S2
CTOS
LDU 4 ; bounced tail
LDMSGADDR ; bounced src tail
DROP
SETGLOB 9
MODPOW2 1
IFRET
OVER
SEMPTY ; isEmpty
IFJMPREF {
	GETGLOB 6
	THROWIFNOT 76
}
OVER
LDUQ 32  ; [funcId] body' ok
THROWIFNOT 60
OVER
IFNOTJMPREF {
	GETGLOB 6
	THROWIFNOT 76
}
SWAP
CALLREF {
	CALL $public_function_selector$
}
THROW 60

.internal-alias :main_external, -1
.internal :main_external
PUSHROOT
CTOS
SBITS
NEQINT 1
SETGLOB 6
PUSHREFSLICE {
	.blob x8000000000000000000000000000000000000000000000000000000000000000001_
}
SETGLOB 9
OVER
CALLREF {
	CALL $c4_to_c7_with_init_storage$
}
LDU 1 ; haveSign msgSlice
SWAP
PUSHCONT {
	PUSHPOW2 9
	LDSLICEX ; signatureSlice msgSlice
	DUP
	HASHSU ; signatureSlice msgSlice hashMsgSlice
	SWAP
	LDU 1 ; signatureSlice hashMsgSlice hasPubkey msgSlice
	SWAP
	PUSHCONT {
		LDU 256 ; signatureSlice hashMsgSlice pubkey msgSlice
		XCHG S3
		SWAP
	}
	PUSHCONT {
		XCHG S2
		GETGLOB 2
	}
	IFELSE
	CHKSIGNU ; msgSlice isSigned
	THROWIFNOT 40
}
PUSHCONT {
	LDU 1 ; hasPubkey msgSlice
	SWAP
	THROWIF 58
}
IFELSE
LDU 64 ; timestamp msgSlice
SWAP
CALL $replay_protection_macro$
LDU 32 ; expireAt msgSlice
SWAP
NOW ; msgSlice expireAt now
GREATER ; msgSlice expireAt>now
THROWIFNOT 57
LDU 32 ; funcId body
SWAP
CALLREF {
	CALL $public_function_selector$
}
THROW 60

.macro workerContractCode
DROP
ENDS
CALLREF {
	CALL $c4_to_c7$
}
GETGLOB 13
OVER
PUSHCONT {
	PUSHSLICE xc0000000000000000000000000bca8a617
	NEWC
	STSLICE
	STREF
	ENDC
	PUSHINT 0
	SENDRAWMSG
}
IF
THROW 0

.macro salary
DROP
ENDS
CALLREF {
	CALL $c4_to_c7$
}
GETGLOB 14
OVER
PUSHCONT {
	PUSHSLICE xc0000000000000000000000000e392827b
	NEWC
	STSLICE
	STU 128
	ENDC
	PUSHINT 0
	SENDRAWMSG
}
IF
THROW 0

.macro public_function_selector
DUP
PUSHINT 1136002705
LEQ
IFJMPREF {
	DUP
	PUSHINT 53932376
	EQUAL
	IFJMPREF {
		CALL $receivedSalary$
	}
	DUP
	PUSHINT 685597466
	EQUAL
	IFJMPREF {
		CALL $sendOfferAnswer$
	}
	DUP
	PUSHINT 1017685527
	EQUAL
	IFJMPREF {
		CALL $workerContractCode$
	}
	DUP
	PUSHINT 1136002705
	EQUAL
	IFJMPREF {
		CALL $constructor$
	}
}
DUP
PUSHINT 1797764356
LEQ
IFJMPREF {
	DUP
	PUSHINT 1670546043
	EQUAL
	IFJMPREF {
		CALL $salary$
	}
	DUP
	PUSHINT 1797764356
	EQUAL
	IFJMPREF {
		CALL $receiveOffer$
	}
}

